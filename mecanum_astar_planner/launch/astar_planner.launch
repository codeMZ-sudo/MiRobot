<?xml version="1.0"?>
<launch>
  <!-- Arguments -->
  <arg name="map_file" default="$(find mecanum_astar_planner)/maps/scan_full.yaml"/>
  
  <!-- Map Server -->
  <node name="map_server" pkg="map_server" type="map_server" 
        args="$(arg map_file)">
    <param name="frame_id" value="map"/>
  </node>
  
  <!-- A* Global Planner -->
  <node name="astar_global_planner" pkg="mecanum_astar_planner" 
        type="astar_global_planner.py" output="screen">
    
    <param name="map_file" value="$(arg map_file)"/>
    <param name="heuristic_type" value="euclidean"/>    <!-- manhattan, euclidean -->
    <param name="inflation_radius" value="0.40"/>
  </node>
  
  <node pkg="mecanum_astar_planner" type="points_pub.py" name="path_to_goal_node" output="screen">
    <param name="lookahead_distance" value="0.5"/>
    <param name="update_rate" value="10"/>
    <param name="path_topic" value="/global_path"/>
    <param name="goal_topic" value="/goal"/>
    <param name="odom_topic" value="/odom"/>
  </node>
  
  <!-- Static TF for testing (if no robot) -->
  <node pkg="tf" type="static_transform_publisher" name="map_to_odom"
        args="0 0 0 0 0 0 map odom 100"/>
  
  <!-- RViz -->
  <!-- <node name="rviz" pkg="rviz" type="rviz" 
        args="-d $(find mecanum_astar_planner)/rviz/astar_planner.rviz"/> -->
</launch>
